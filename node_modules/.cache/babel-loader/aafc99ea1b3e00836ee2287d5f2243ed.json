{"ast":null,"code":"var _jsxFileName = \"/home/user/Documents/archi-logiciel/atelier3-front/src/components/USER/LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Form, Header, Button } from 'semantic-ui-react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Header as Head } from '../TOOLS/HEADER/Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const LoginForm = props => {\n  _s();\n\n  const [form, setLoginForm] = useState({\n    surname: \"\",\n    pwd: \"\"\n  });\n\n  let callbackUserLogin = response => {\n    console.log('login', response);\n\n    if (response.status === 200) {\n      localStorage.setItem('archi_user', response.response);\n      window.location = '/dashboard.html';\n    } else {\n      console.log('aie', response.response.message);\n      let error = document.querySelector('#error');\n      error.innerHTML = response.response.message;\n    }\n  };\n\n  const handleChange = event => {\n    const key = event.target.name;\n    const value = event.target.value;\n    setLoginForm({ ...form,\n      [key]: value\n    });\n  };\n\n  const handleSubmit = () => {\n    const data = JSON.stringify({\n      \"surname\": form.surname,\n      \"pwd\": form.pwd\n    });\n    const context = {\n      method: 'POST',\n      body: data,\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8'\n      }\n    };\n    fetch(\"http://localhost:8080/login\", context).then(response => response.json() // .then(data => ({ status: response.status, response: data.response }))\n    .then(data => callbackUserLogin({\n      status: response.status,\n      response: data\n    }))).catch(error => console.log('error', error));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      title: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginLeft: \"25%\",\n        marginRight: \"25%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          as: \"h4\",\n          dividing: true,\n          children: \"User login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n          children: /*#__PURE__*/_jsxDEV(Form.Input, {\n            fluid: true,\n            label: \"Surname\",\n            placeholder: \"Surname\",\n            name: \"surname\",\n            onChange: handleChange,\n            value: form.surname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n          children: /*#__PURE__*/_jsxDEV(Form.Input, {\n            type: \"password\",\n            label: \"Pwd\",\n            placeholder: \"\",\n            onChange: handleChange,\n            name: \"pwd\",\n            value: form.pwd\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          onClick: handleSubmit,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(LoginForm, \"H7Kox+kA9ZfnKoPJoeS+OHTSvKY=\");\n\n_c = LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["/home/user/Documents/archi-logiciel/atelier3-front/src/components/USER/LoginForm.js"],"names":["React","useState","Form","Header","Button","useDispatch","useSelector","Head","LoginForm","props","form","setLoginForm","surname","pwd","callbackUserLogin","response","console","log","status","localStorage","setItem","window","location","message","error","document","querySelector","innerHTML","handleChange","event","key","target","name","value","handleSubmit","data","JSON","stringify","context","method","body","headers","fetch","then","json","catch","marginLeft","marginRight"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Form, Header, Button } from 'semantic-ui-react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Header as Head } from '../TOOLS/HEADER/Header';\n\nexport const LoginForm = (props) => {\n    const [form, setLoginForm] = useState({\n        surname: \"\",\n        pwd: \"\",\n    });\n\n    let callbackUserLogin = (response) => {\n        console.log('login', response)\n        if (response.status === 200) {\n            localStorage.setItem('archi_user', response.response)\n            window.location = '/dashboard.html'\n        } else {\n            console.log('aie', response.response.message)\n            let error = document.querySelector('#error');\n            error.innerHTML = response.response.message;\n        }\n    }\n\n    const handleChange = (event) => {\n        const key = event.target.name;\n        const value = event.target.value;\n        setLoginForm({ ...form, [key]: value });\n    };\n\n    const handleSubmit = () => {\n        const data = JSON.stringify({\n            \"surname\": form.surname,\n            \"pwd\": form.pwd\n        });\n\n        const context = {\n            method: 'POST',\n            body: data,\n            headers: {\n                'Content-type': 'application/json; charset=UTF-8'\n            }\n        };\n\n        fetch(\"http://localhost:8080/login\", context)\n            .then(response => response.json()\n                // .then(data => ({ status: response.status, response: data.response }))\n                .then(data => callbackUserLogin({ status: response.status, response: data })))\n            .catch(error => console.log('error', error));\n\n    }\n\n    return (\n        <>\n            <Head title={\"Login\"} />\n            <div style={{ marginLeft: \"25%\", marginRight: \"25%\" }}>\n                <Form>\n                    <Header as='h4' dividing>\n                        User login\n                    </Header>\n                    <Form.Field>\n                        <Form.Input fluid label='Surname' placeholder='Surname' name=\"surname\" onChange={handleChange} value={form.surname} />\n                    </Form.Field>\n                    <Form.Field>\n                        <Form.Input type=\"password\" label=\"Pwd\" placeholder=\"\" onChange={handleChange} name=\"pwd\" value={form.pwd} />\n                    </Form.Field>\n                    <Button type='submit' onClick={handleSubmit}>Submit</Button>\n                </Form>\n            </div>\n        </>\n    );\n\n}"]},"metadata":{},"sourceType":"module"}